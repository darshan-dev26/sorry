/* ============================================
   RESET & BASE
   ============================================ */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

html{
  scroll-snap-type:y mandatory;
  overflow-x:hidden;
  scroll-behavior:smooth;
}

body{
  font-family:'Segoe UI','Georgia',serif;
  background:#0d0a14;
  color:#fff;
  overflow-x:hidden;
}

/* ============================================
   PARTICLE CANVAS
   ============================================ */
#particleCanvas{
  position:fixed;top:0;left:0;
  width:100%;height:100%;
  pointer-events:none;z-index:0;
}

/* ============================================
   FLOATING HEARTS BG
   ============================================ */
.floating-hearts-bg{
  position:fixed;inset:0;
  pointer-events:none;z-index:1;overflow:hidden;
}

.bg-heart{
  position:absolute;bottom:-40px;opacity:0;
  animation:riseHeart linear forwards;
  user-select:none;
}

@keyframes riseHeart{
  0%{opacity:0;transform:translateY(0) scale(.5) rotate(0deg)}
  8%{opacity:.5}
  92%{opacity:.3}
  100%{opacity:0;transform:translateY(-105vh) scale(1) rotate(360deg)}
}

/* ============================================
   SIDE NAV DOTS
   ============================================ */
.section-nav{
  position:fixed;right:18px;top:50%;
  transform:translateY(-50%);z-index:1000;
  display:flex;flex-direction:column;gap:12px;
}

.nav-dot{
  width:9px;height:9px;border-radius:50%;
  background:rgba(255,255,255,.2);
  border:1.5px solid rgba(255,255,255,.25);
  cursor:pointer;transition:all .4s ease;
}

.nav-dot.active{
  background:#ff4081;border-color:#ff4081;
  transform:scale(1.3);
  box-shadow:0 0 12px rgba(255,64,129,.6);
}

.nav-dot:hover{background:#ff80ab;transform:scale(1.2)}

/* ============================================
   SNAP SECTIONS
   ============================================ */
.snap-section{
  min-height:100vh;min-height:100dvh;
  scroll-snap-align:start;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  padding:50px 24px;position:relative;z-index:2;
}

/* ============================================
   ANIMATION HELPERS
   ============================================ */
.anim-item{
  opacity:0;transform:translateY(35px);
  transition:opacity .7s cubic-bezier(.22,1,.36,1),transform .7s cubic-bezier(.22,1,.36,1);
  transition-delay:var(--delay,0s);
}

.anim-item.visible{opacity:1;transform:translateY(0)}

.sec-title{
  font-size:clamp(1.5rem,4vw,2.4rem);
  color:#ff80ab;margin-bottom:28px;
  text-align:center;position:relative;
}

.sec-title::after{
  content:'';display:block;width:50px;height:2px;
  background:linear-gradient(90deg,transparent,#ff4081,transparent);
  margin:10px auto 0;
}

/* ============================================
   PROSE CARD (shared by Apology, About, Promises, Realization)
   ============================================ */
.prose-card{
  max-width:580px;width:90vw;
  background:linear-gradient(160deg,rgba(255,64,129,.05),rgba(224,64,251,.03));
  border:1px solid rgba(255,100,150,.12);
  border-radius:20px;padding:36px 30px;
  position:relative;overflow:hidden;
  box-shadow:0 6px 40px rgba(0,0,0,.25);
}

.prose-card-alt{
  max-width:620px;
}

.prose-glow{
  position:absolute;top:-50%;left:50%;
  transform:translateX(-50%);
  width:280px;height:280px;
  background:radial-gradient(circle,rgba(255,64,129,.08) 0%,transparent 70%);
  pointer-events:none;
  animation:cardGlow 4s ease-in-out infinite;
}

@keyframes cardGlow{
  0%,100%{opacity:.4;transform:translateX(-50%) scale(1)}
  50%{opacity:.8;transform:translateX(-50%) scale(1.1)}
}

.prose-card p{
  font-size:clamp(.92rem,2vw,1.05rem);
  color:#c9a0b4;line-height:1.85;margin-bottom:14px;
}

.prose-dear{
  font-size:1.15rem!important;color:#ff80ab!important;
  font-style:italic;margin-bottom:20px!important;
}

.prose-highlight{
  color:#ff80ab!important;font-weight:500;
  padding:14px 18px;
  background:rgba(255,64,129,.05);
  border-left:3px solid rgba(255,64,129,.4);
  border-radius:0 10px 10px 0;
  margin:18px 0!important;
}

.prose-sign{
  text-align:right;color:#ff80ab!important;
  font-style:italic;margin-top:18px!important;
  font-size:1rem!important;
}

.prose-intro{
  font-style:italic;color:#d4a0b4!important;
  margin-bottom:20px!important;
}

.prose-closing{
  font-style:italic;color:#ff80ab!important;
  margin-top:20px!important;text-align:center;
  font-size:1.05rem!important;
}

/* ============================================
   0) HERO
   ============================================ */
.hero{
  background:radial-gradient(ellipse at 50% 40%,rgba(255,64,129,.07) 0%,transparent 70%);
  text-align:center;
}

.hero-content{position:relative;z-index:2}

.hero-crown{
  font-size:52px;
  animation:crownBob 3s ease-in-out infinite;
  margin-bottom:6px;
}

@keyframes crownBob{
  0%,100%{transform:translateY(0) rotate(-3deg)}
  50%{transform:translateY(-10px) rotate(3deg)}
}

.hero h1{
  font-size:clamp(1.8rem,5.5vw,3.5rem);
  background:linear-gradient(135deg,#ff6b9d,#ff4081,#e040fb,#ff6b9d);
  background-size:300% 300%;
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;
  animation:gradShift 5s ease infinite;line-height:1.3;
}

@keyframes gradShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.hero-line{
  width:70px;height:2px;
  background:linear-gradient(90deg,transparent,#ff4081,transparent);
  margin:16px auto;
  animation:lineGlow 2s ease-in-out infinite alternate;
}

@keyframes lineGlow{
  0%{width:70px;opacity:.5}
  100%{width:130px;opacity:1}
}

.hero-sub{
  font-size:clamp(.9rem,2.5vw,1.2rem);
  color:#ffb3c6;font-style:italic;
  max-width:480px;margin:0 auto;line-height:1.7;
}

.hero-note{
  font-size:clamp(.85rem,2vw,1.05rem);
  color:#c9a0b4;margin-top:20px;
  line-height:1.8;max-width:400px;margin-left:auto;margin-right:auto;
}

.hero-btn{
  margin-top:30px;padding:13px 34px;font-size:1.05rem;
  background:linear-gradient(135deg,#ff4081,#e040fb);
  color:#fff;border:none;border-radius:50px;
  cursor:pointer;font-family:inherit;
  position:relative;overflow:hidden;
  transition:transform .3s,box-shadow .3s;
  box-shadow:0 4px 22px rgba(255,64,129,.3);
}

.hero-btn:hover{
  transform:scale(1.05);
  box-shadow:0 6px 30px rgba(255,64,129,.5);
}

.hero-btn::after{
  content:'';position:absolute;top:-50%;left:-50%;
  width:200%;height:200%;
  background:linear-gradient(45deg,transparent 40%,rgba(255,255,255,.1) 50%,transparent 60%);
  animation:sheen 3.5s ease-in-out infinite;
}

@keyframes sheen{
  0%{transform:translateX(-100%) rotate(45deg)}
  100%{transform:translateX(100%) rotate(45deg)}
}

/* Scroll hint */
.scroll-hint{
  margin-top:40px;display:flex;flex-direction:column;
  align-items:center;gap:8px;
  animation:hintFade 2s ease-in-out infinite;
}

@keyframes hintFade{
  0%,100%{opacity:.3;transform:translateY(0)}
  50%{opacity:.6;transform:translateY(5px)}
}

.mouse{
  width:20px;height:32px;
  border:2px solid rgba(255,255,255,.35);
  border-radius:11px;position:relative;
}

.wheel{
  width:3px;height:7px;background:#ff80ab;border-radius:2px;
  position:absolute;top:6px;left:50%;
  transform:translateX(-50%);
  animation:scrollWheel 1.5s ease-in-out infinite;
}

@keyframes scrollWheel{
  0%{opacity:1;transform:translateX(-50%) translateY(0)}
  100%{opacity:0;transform:translateX(-50%) translateY(11px)}
}

.scroll-hint p{
  font-size:.65rem;color:rgba(255,255,255,.35);
  letter-spacing:2px;text-transform:uppercase;
}

/* ============================================
   1) APOLOGY
   ============================================ */
.apology-sec{
  background:radial-gradient(ellipse at center,rgba(224,64,251,.05) 0%,transparent 65%);
}

/* ============================================
   2) ABOUT HER — TRAIT CARDS
   ============================================ */
.about-sec{
  background:radial-gradient(ellipse at center,rgba(255,100,150,.04) 0%,transparent 65%);
}

.about-subtitle{
  font-size:clamp(.9rem,2.5vw,1.12rem);
  color:#c9a0b4;margin-bottom:30px;
  text-align:center;font-style:italic;
  letter-spacing:.3px;
}

.traits-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:20px;max-width:560px;width:100%;
}

.trait-card{
  position:relative;
  background:linear-gradient(160deg,rgba(255,255,255,.04),rgba(255,255,255,.01));
  border:1px solid rgba(255,255,255,.06);
  border-radius:20px;padding:28px 18px 22px;
  text-align:center;
  transition:all .45s cubic-bezier(.22,1,.36,1);
  cursor:default;
}

.trait-card::before{
  content:'';position:absolute;inset:-1px;
  border-radius:20px;padding:1px;
  background:linear-gradient(160deg,var(--accent,#ff4081) 0%,transparent 50%,transparent 100%);
  -webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);
  mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);
  -webkit-mask-composite:xor;
  mask-composite:exclude;
  opacity:0;transition:opacity .45s ease;
  pointer-events:none;
}

.trait-card::after{
  content:'';position:absolute;
  top:0;left:50%;transform:translateX(-50%);
  width:80px;height:80px;
  background:radial-gradient(circle,var(--accent,#ff4081) 0%,transparent 70%);
  opacity:0;filter:blur(30px);
  transition:opacity .45s ease;
  pointer-events:none;
}

.trait-card:hover{
  transform:translateY(-8px) scale(1.02);
  border-color:rgba(255,255,255,.12);
  box-shadow:0 16px 50px rgba(0,0,0,.25),0 0 30px rgba(255,64,129,.1);
}

.trait-card:hover::before{opacity:1}
.trait-card:hover::after{opacity:.18}

.trait-icon-wrap{
  position:relative;
  width:60px;height:60px;margin:0 auto 14px;
  border-radius:16px;
  background:linear-gradient(135deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.06);
  display:flex;align-items:center;justify-content:center;
  overflow:hidden;
  transition:all .45s ease;
}

.trait-card:hover .trait-icon-wrap{
  transform:scale(1.1);
  border-color:rgba(255,64,129,.2);
  box-shadow:0 4px 20px rgba(255,64,129,.12);
}

.trait-icon{font-size:28px;line-height:1}

.trait-title{
  font-size:.95rem;font-weight:600;
  color:#fff;margin-bottom:8px;
  letter-spacing:.3px;
}

.trait-desc{
  font-size:.82rem;color:#b0899e;
  line-height:1.65;
}

/* shimmer sweep on hover */
.trait-card .trait-icon-wrap::after{
  content:'';position:absolute;top:0;left:-100%;
  width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.06),transparent);
  transition:none;
}

.trait-card:hover .trait-icon-wrap::after{
  animation:traitShimmer .8s ease-out;
}

@keyframes traitShimmer{
  0%{left:-100%}100%{left:100%}
}

/* ============================================
   3) HOW I SEE YOU
   ============================================ */
.seeyou-sec{
  background:radial-gradient(ellipse at center,rgba(255,255,255,.02) 0%,transparent 65%);
}

.seeyou-card{
  max-width:520px;width:90vw;
  text-align:center;padding:44px 34px;
  border-radius:22px;
  background:linear-gradient(160deg,rgba(255,255,255,.04),rgba(255,255,255,.015));
  border:1px solid rgba(255,255,255,.06);
  box-shadow:0 8px 45px rgba(0,0,0,.2);
  position:relative;
}

.seeyou-line{
  width:40px;height:2px;
  background:linear-gradient(90deg,transparent,#ff80ab,transparent);
  margin:0 auto 28px;
}

.seeyou-card p{
  font-size:clamp(.95rem,2.5vw,1.12rem);
  color:#c9a0b4;line-height:1.9;
  margin-bottom:18px;
}

.seeyou-highlight{
  color:#ff80ab!important;font-weight:500;
  font-size:clamp(1rem,2.8vw,1.2rem)!important;
  margin:24px 0!important;line-height:2.2!important;
}

.seeyou-word{
  display:inline-block;
  opacity:.85;
  transition:opacity .3s;
}

.seeyou-word:hover{opacity:1;text-shadow:0 0 18px rgba(255,128,171,.4)}

.seeyou-contrast{
  color:rgba(255,255,255,.3)!important;
  font-size:.95rem!important;
  font-style:italic;letter-spacing:.3px;
}

.seeyou-closing{
  color:#fff!important;font-weight:600;
  font-size:clamp(1.05rem,3vw,1.25rem)!important;
  margin-top:28px!important;margin-bottom:0!important;
  letter-spacing:.5px;
}

/* ============================================
   PROMISES
   ============================================ */
.promise-sec{
  background:radial-gradient(ellipse at center,rgba(156,39,176,.05) 0%,transparent 65%);
}

.promise-badge{
  display:inline-block;
  background:linear-gradient(135deg,#ff4081,#e040fb);
  padding:7px 24px;border-radius:50px;font-size:.95rem;
  margin-bottom:8px;
  box-shadow:0 4px 18px rgba(255,64,129,.3);
  animation:badgeGlow 2.5s ease-in-out infinite;
}

@keyframes badgeGlow{
  0%,100%{box-shadow:0 4px 18px rgba(255,64,129,.3)}
  50%{box-shadow:0 4px 30px rgba(255,64,129,.55)}
}

.promise-list{margin:16px 0}

.promise-row{
  padding:14px 18px;margin-bottom:8px;
  background:linear-gradient(135deg,rgba(255,64,129,.04),rgba(224,64,251,.03));
  border-left:3px solid rgba(255,64,129,.35);
  border-radius:0 10px 10px 0;
  font-size:clamp(.88rem,2vw,1rem);color:#c9a0b4;
  transition:all .4s ease;
}

.promise-row:hover{
  background:linear-gradient(135deg,rgba(255,64,129,.1),rgba(224,64,251,.06));
  transform:translateX(6px);
  border-left-color:#e040fb;
}

.p-icon{margin-right:10px;display:inline-block}

/* ============================================
   4) LITTLE JOYS
   ============================================ */
.joys-sec{
  background:radial-gradient(ellipse at center,rgba(255,183,77,.04) 0%,transparent 65%);
}

.joys-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;max-width:780px;width:100%;
  margin-bottom:28px;
}

.joy-card{
  background:linear-gradient(160deg,rgba(255,64,129,.06),rgba(224,64,251,.03));
  border:1px solid rgba(255,100,150,.1);
  border-radius:18px;padding:28px 22px;
  text-align:center;
  transition:all .4s cubic-bezier(.22,1,.36,1);
}

.joy-card:hover{
  transform:translateY(-6px);
  border-color:rgba(255,64,129,.25);
  box-shadow:0 10px 35px rgba(255,64,129,.1);
}

.joy-icon{
  font-size:42px;margin-bottom:14px;
  animation:iconFloat 3s ease-in-out infinite;
}

@keyframes iconFloat{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-5px)}
}

.joy-card p{
  color:#c9a0b4;font-size:.9rem;line-height:1.7;
  font-style:italic;
}

.joys-footer{
  font-size:clamp(.92rem,2.5vw,1.1rem);
  color:#d4a0b4;text-align:center;
  line-height:1.8;font-style:italic;
  max-width:520px;
}

/* ============================================
   5) SELF-REALIZATION
   ============================================ */
.realize-sec{
  background:radial-gradient(ellipse at center,rgba(255,255,255,.02) 0%,transparent 65%);
}

/* ============================================
   6) FINAL MESSAGE — BOOK
   ============================================ */
.msg-sec{
  background:radial-gradient(ellipse at center,rgba(255,80,120,.05) 0%,transparent 65%);
}

.msg-book{
  display:flex;max-width:600px;width:90vw;
  min-height:220px;border-radius:8px;
  overflow:hidden;box-shadow:0 8px 40px rgba(0,0,0,.3);
}

.book-left{
  width:14px;
  background:linear-gradient(180deg,#4a1942,#2d1025);
  border-right:2px solid rgba(255,100,150,.08);
  flex-shrink:0;
}

.book-right{
  flex:1;
  background:linear-gradient(160deg,rgba(255,240,245,.04),rgba(255,200,220,.02));
  border:1px solid rgba(255,100,150,.08);
  padding:28px 24px;
}

.typed{
  font-size:clamp(.95rem,2.5vw,1.15rem);
  color:#d4b8c6;line-height:1.9;font-style:italic;
  min-height:80px;
}

.blink-cursor{
  color:#ff4081;font-weight:300;
  animation:blink .7s step-end infinite;
}

@keyframes blink{
  0%,100%{opacity:1}
  50%{opacity:0}
}

/* ============================================
   7) FINAL BUTTON
   ============================================ */
.forgive-sec{
  background:radial-gradient(ellipse at center,rgba(255,64,129,.05) 0%,transparent 65%);
}

.big-heart-wrap{
  position:relative;display:flex;
  align-items:center;justify-content:center;
}

.big-heart-ring{
  position:absolute;border-radius:50%;
  border:1px solid rgba(255,64,129,.12);
  animation:ringPulse 3s ease-in-out infinite;
}

.r1{width:200px;height:200px;animation-delay:0s}
.r2{width:280px;height:280px;animation-delay:.5s}
.r3{width:360px;height:360px;animation-delay:1s}

@keyframes ringPulse{
  0%,100%{transform:scale(1);opacity:.25}
  50%{transform:scale(1.06);opacity:.5}
}

.forgive-btn{
  padding:18px 42px;font-size:clamp(1rem,3vw,1.3rem);
  background:linear-gradient(135deg,#ff4081,#e040fb);
  color:#fff;border:none;border-radius:60px;
  cursor:pointer;font-family:inherit;
  position:relative;z-index:2;overflow:hidden;
  transition:transform .3s,box-shadow .3s;
  box-shadow:0 6px 30px rgba(255,64,129,.35);
  animation:btnFloat 3s ease-in-out infinite;
}

@keyframes btnFloat{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-5px)}
}

.forgive-btn:hover{
  transform:scale(1.06)!important;
  box-shadow:0 10px 45px rgba(255,64,129,.55);
}

.forgive-btn::after{
  content:'';position:absolute;top:-50%;left:-50%;
  width:200%;height:200%;
  background:linear-gradient(45deg,transparent 40%,rgba(255,255,255,.08) 50%,transparent 60%);
  animation:sheen 3s ease-in-out infinite;
}

/* Explosion */
.explosion-layer{
  position:fixed;inset:0;
  pointer-events:none;z-index:9998;
}

.exp-heart{
  position:absolute;
  animation:explodeHeart 2s ease-out forwards;
}

@keyframes explodeHeart{
  0%{opacity:1;transform:translate(0,0) scale(.5)}
  100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(1.5) rotate(var(--tr))}
}

/* Overlay */
.forgive-overlay{
  position:fixed;inset:0;
  background:rgba(13,10,20,.96);
  display:flex;align-items:center;justify-content:center;
  z-index:9997;opacity:0;pointer-events:none;
  transition:opacity 1s ease;
}

.forgive-overlay.show{opacity:1;pointer-events:auto}

.overlay-inner{text-align:center;max-width:500px;padding:0 24px}

.ov-emoji{
  font-size:64px;
  animation:crownBob 2s ease-in-out infinite;
  margin-bottom:24px;
}

.ov-text{
  font-size:clamp(1.1rem,3.5vw,1.6rem);
  color:#d4b8c6;line-height:1.8;
  animation:textGlow 2.5s ease-in-out infinite;
}

@keyframes textGlow{
  0%,100%{text-shadow:0 0 15px rgba(255,64,129,.15)}
  50%{text-shadow:0 0 30px rgba(255,64,129,.35)}
}

/* ============================================
   CURSOR TRAIL
   ============================================ */
.cursor-heart{
  position:fixed;pointer-events:none;
  z-index:99999;
  animation:cursorFade 1s ease-out forwards;
  user-select:none;font-size:14px;
}

@keyframes cursorFade{
  0%{opacity:1;transform:translate(0,0) scale(1)}
  100%{opacity:0;transform:translate(var(--dx),-50px) scale(.3) rotate(var(--r))}
}

/* ============================================
   SCROLLBAR
   ============================================ */
::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-track{background:#0d0a14}
::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#ff4081,#e040fb);border-radius:3px}

/* ============================================
   RESPONSIVE
   ============================================ */
@media(max-width:768px){
  .snap-section{padding:40px 16px}
  .prose-card{padding:28px 22px}
  .joys-grid{grid-template-columns:1fr;max-width:320px}
  .traits-grid{grid-template-columns:repeat(2,1fr);gap:14px;max-width:400px}
  .section-nav{right:10px;gap:9px}
  .nav-dot{width:7px;height:7px}
}

@media(max-width:480px){
  .hero-crown{font-size:40px}
  .prose-card{padding:22px 18px}
  .prose-card p{font-size:.88rem}
  .promise-row{padding:12px 14px;font-size:.88rem}
  .traits-grid{grid-template-columns:repeat(2,1fr);gap:10px;max-width:340px}
  .trait-card{padding:20px 12px 16px;border-radius:16px}
  .trait-icon-wrap{width:48px;height:48px;border-radius:12px}
  .trait-icon{font-size:22px}
  .trait-title{font-size:.85rem}
  .trait-desc{font-size:.76rem}
}
